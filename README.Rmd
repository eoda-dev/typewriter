---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# rdantic

<!-- badges: start -->
[![R-CMD-check](https://github.com/eoda-dev/rdantic/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/eoda-dev/rdantic/actions/workflows/R-CMD-check.yaml)
<!-- badges: end -->

The goal of rdantic is to add type safety to your R code.

## Installation

You can install the development version of rdantic from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("eoda-dev/rdantic")
```

## Examples

```{r example}
library(rdantic)
library(rlang)

# Models
my_model <- base_model(
  a = is_integer,
  b = is_integer
)

(m <- my_model(a = 2L, b = 4L))

try(m$a <- 10.5)

try(my_model(a = 2L, b = 4.5))

# Functions
f <- function(a, b = 5L) {
  check_args(
    a = is_integer,
    b = is_scalar_integer
  )
  a + b
}

f(5L)
try(f(5L, c(3L, 4L)))

# Data frames
df <- data.frame(
  id = 1:3,
  letter = letters[1:3]
)

my_model <- base_model(
  id = is_integer,
  letter = is_character
)

df |> model_validate(my_model)

df$id <- as.double(df$id)
try(df |> model_validate(my_model))
```
